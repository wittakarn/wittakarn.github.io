<html>

<head>
  <script src="js/aframe.min.js"></script>
  <script src="js/round.js"></script>
  <script src="js/aframe-slice9-component.min.js"></script>
  <script src="js/aframe-spe-particles-component.js"></script>
  <style type="text/css">
    #bottomVideoDisplay {
      border-radius: 1000px;
    }
  </style>
</head>

<body onload="playVideo()">
  <a-scene>
    <a-assets>
      <video id="frontVideo" muted="muted" loop="true" preload="auto" src="video/clap.mp4"></video>
      <video id="rightVideo" muted="muted" loop="true" preload="auto" src="video/mosquito.mp4" vidhandler></video>
      <video id="bottomVideo" muted="muted" loop="true" preload="auto" src="video/mess.mp4"></video>
    </a-assets>
    <!-- Using the asset management system. -->
    <a-video src="#frontVideo" width="8" height="8" position="0 3 -8" rotation="0 0 0"></a-video>
    <a-video src="#rightVideo" width="8" height="8" position="8 3 -8" rotation="0 0 0"></a-video>
    <a-video src="#bottomVideo" width="8" height="8" position="0 0 -5" rotation="-90 0 0"></a-video>
  </a-scene>

</body>
<script>
  function playVideo() {
    document.getElementById("frontVideo").play();
    document.getElementById("bottomVideo").play();
  }

  AFRAME.registerComponent('vidhandler', {
    init: function () {
      this.toggle = false;
      this.rightVideo = document.querySelector("#rightVideo");
      this.rightVideo.play();
    },
    tick: function () {
      if (this.el.object3D.visible == true) {
        if (!this.toggle) {
          this.toggle = true;
          this.rightVideo.play();
        }
      } else {
        this.toggle = false;
        this.rightVideo.pause();
      }
    }
  });
</script>

</html>